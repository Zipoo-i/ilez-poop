<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>D&D Party Planner</title>
    <link rel="icon" type="image/png" href="/image/favicon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>D&D Party Planner</h1>

        <div id="auth-panel" class="card">
            <div class="card-header">
                <h2>Вход / Регистрация</h2>
            </div>
            <div class="card-content">
                <div id="auth-forms">
                    <div class="form-group">
                        <input type="text" id="username" placeholder="Имя пользователя" class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="password" id="password" placeholder="Пароль" class="form-input">
                    </div>
                    <div class="form-group">
                        <select id="role" class="form-input">
                            <option value="player">Игрок</option>
                            <option value="dm">Мастер</option>
                        </select>
                        <small class="role-hint">Выбор роли работает для регистрации</small>
                    </div>
                    <div class="auth-buttons">
                        <button onclick="login()" class="auth-btn">Войти</button>
                        <button onclick="register()" class="auth-btn secondary">Создать</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="user-info" class="card" style="display: none;">
            <div class="card-header">
                <h2>Текущая кампания</h2>
            </div>
            <div class="card-content">
                <p>Добро пожаловать, <span id="current-user"></span> (<span id="current-role"></span>)</p>
                <div class="auth-buttons">
                    <button onclick="logout()" class="auth-btn">Выйти</button>
                </div>
            </div>
        </div>

        <div id="main-interface" style="display: none;">
            <div class="card">
                <div class="card-header">
                    <h2>Выберите персонажей:</h2>
                </div>
                <div class="card-content">
                    <div id="events-container"></div>
                    <button onclick="generateParties()" class="generate-btn">
                        Сгенерировать отряды
                    </button>
                </div>
            </div>

            <div id="dm-panel" class="card" style="display: none;">
                <div class="card-header">
                    <h2>Панель мастера</h2>
                </div>
                <div class="card-content">
                    <h3>Добавить нового персонажа</h3>
                    <div class="form-group">
                        <input type="text" id="char-name" placeholder="Имя персонажа" class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="text" id="char-race" placeholder="Раса (человек, эльф, дварф...)" class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="text" id="char-class" placeholder="Класс (воин, маг, жрец...)" class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="number" id="char-level" placeholder="Уровень (1-20)" class="form-input" min="1" max="20">
                    </div>
                    <div class="form-group">
                        <input type="text" id="char-player" placeholder="Имя игрока" class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="text" id="char-background" placeholder="Предыстория" class="form-input">
                    </div>
                    <button onclick="addCharacter()" class="generate-btn">Добавить персонажа</button>
                </div>
            </div>

            <div id="results"></div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>